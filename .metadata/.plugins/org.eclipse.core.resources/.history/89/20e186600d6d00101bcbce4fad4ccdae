package org.shark.mvc.controller;

import javax.servlet.http.HttpServletRequest;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@RequestMapping("/b")
@Controller
public class MvcControllerB {
  
  // 요청주소: /b/list?page=1&sort=DESC
  @RequestMapping("/list")
  public String methodA(HttpServletRequest request) { // 요청 파라미터 처리를 위한 HttpServletRequest request 선언이 가능하다
       
    // sort 전달이 없거나, DESC 또는 ASC가 아니면 "DESCC" 값을 사용한다
    String sort = request.getParameter("sort");    
    if (sort == null || !(sort.equalsIgnoreCase("ASC") || sort.equalsIgnoreCase("DESC"))) {
      sort = "DESC";
    }
    
    // page 값이 정수가 아닌 경우 (전달이 안 된 경우도 포함) "1" 값을 사용
    int page = 1;
    try {
      page = Integer.parseInt(request.getParameter("page"));
    } catch (Exception e) {
      page = 1;
    }
    
    System.out.println("page : " + page);
    System.out.println("sort : " + sort);
    return "b/list";
  }
  
  @RequestMapping("/detail")
  public String methodB() {
    return "b/detail";
  }
  
  
}
