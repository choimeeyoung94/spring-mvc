package org.shark.crud.controller;


import org.shark.crud.service.UserService;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.mvc.support.RedirectAttributes;

import lombok.RequiredArgsConstructor;

@RequestMapping("/user")
@RequiredArgsConstructor
@Controller
public class UserController {
  
  private final UserService userService;
  

  @GetMapping("/login")
  public String loginForm(String url
                         , Model model ) {
    model.addAttribute("url", url); // 로그인 페이지 url을 전달
    return "user/login"; // user 폴더 아래 login.jsp로 forward 한다
    
  
  }
  
  
  @PostMapping("/login")
  public String login(RedirectAttributes redirectAttr ) {// 로그인 실패 시 에러메시지 담아서 다시 로그인 페이지로 redirect 하기 위함
    
    return "";
  }
  
}
